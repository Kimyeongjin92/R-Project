backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.6,
gridSize=6,                # cloud 크기(2)
col=brewer.pal(9,"Set3"),             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.6,
gridSize=6,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=1,
gridSize=6,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
install.packages('wordcloud2')
(wordcloud2)
install.packages("wordcloud2")
wordcloud2(Cl_top,
size=0.5,
gridSize=8,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=8,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
library(wordcloud2)
wordcloud2(Cl_top,
size=0.5,
gridSize=8,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=10,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=0.1,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=0.01,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=0.5,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=0.6,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.4,
gridSize=0.6,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.3,
gridSize=0.6,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=0.6,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=0.6,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.7,
gridSize=0.65,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.7,
gridSize=0.7,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.6,
gridSize=0.7,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",             # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
Cl <- readLines("클레멘타인_전처리2.txt")
Cl_table  <- table(Cl)
# 5. sort -------------------------------------------------------
Cl_top    <- sort(Cl_table, decreasing = T)
head(Cl_top,100)
wordcloud2(Cl_top,
size=0.6,
minSize=1,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
library(wordcloud2)
wordcloud2(Cl_top,
size=0.6,
minSize=1,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.6,
minSize=10,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.6,
minSize=1,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.6,
minSize=2,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.6,
minSize=3,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=1,
minSize=3,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=1,
minSize=3,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'circle',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.67,
minSize=1,
gridSize=0.8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.67,
minSize=0,
gridSize=0.9,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
minSize=0,
gridSize=0.9,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
install.packages('devtools')
library(devtools)
install.packages('wordcloud2')
library(wordcloud2)
install.packages("wordcloud2")
wordcloud2(Cl_top,
size=0.5,
minSize=0,
gridSize=0.9,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.5,
minSize=0,
gridSize=0.9,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.7,
minSize=0,
gridSize=1,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
library(wordcloud2)
wordcloud2(Cl_top,
size=0.7,
minSize=0,
gridSize=1,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.7,
minSize=0,
gridSize=2,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.7,
minSize=0,
gridSize=10,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.7,
minSize=0,
gridSize=5,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
wordcloud2(Cl_top,
size=0.7,
minSize=0,
gridSize=8,                # cloud 크기(2)
col="Deepskyblue",           # 색 변경 random-dark, random-light, rep(brewer.pal(8, "Dark2"), length.out=100)
rotateRatio=0,             # 회전 정도 조절
backgroundColor = "black", # 배경 색
shape = 'star',            # circle
shuffle = T,
fontFamily = 'baedal',
fontWeight = 'bold',
ellipticity = 0.65)         # 그림의 평형정도
library(devtools)
library(wordcloud2)
install.packages('wordcloud2')
install.packages("wordcloud2")
library(rvest)
library(dplyr)
library(xlsx)
library(stringr)
#http://www.donga.com/news/search?p=1&query=%EA%B7%80%EB%86%8D&check_news=1&more=1&sorting=1&search_date=1&v1=&v2=&range=1
basic_url <- 'http://www.donga.com/news/search?p='
#http://www.donga.com/news/search?p=1&query=%EA%B7%80%EB%86%8D&check_news=1&more=1&sorting=1&search_date=1&v1=&v2=&range=1
basic_url <- 'http://www.donga.com/news/search?p='
category  <- '&query=%EA%B7%80%EB%86%8D&check_news=1&more=1&sorting=1&search_date=1&v1=&v2=&range=1'
urls      <- NULL
for(x in 0:97){
urls[x+1] <- paste0(basic_url, x*15+1, category)
}
length(urls)
links <- NULL
for(url in urls){
html <- read_html(url)
links <- c(links, html %>%
html_nodes('.searchCont') %>%
html_nodes('.searchList') %>%
html_node('a') %>%
html_attr('href') %>%
unique())
}
# links <- links[-grep("pdf",links)]
length(links)
trim <- function(x) gsub("^\\s+|\\s+$","",x)
title <- NULL
txt   <- NULL
date  <- NULL
for(link in links){
html  <- read_html(link)
title <- c(title, html %>%
html_node('.article_title') %>%
html_node('.title') %>%
html_text())
txt   <- c(txt, html %>%
html_node('.article_txt') %>%
html_text() %>% trim())
date  <- c(date, html %>%
html_node('.title_foot') %>%
html_node('.date01') %>%
html_text())
}
donga_farm <- data.frame(기사제목 = title,
기사내용 = txt,
기사입력날짜 = str_sub(date,start=4))
write.xlsx(donga_farm, file = "동아닷컴_귀농.xlsx", row.names=F)
donga_farm
